import type {Metadata} from "next";

import "./globals.css";
import Link from "next/link";
import {HomeIcon} from "@radix-ui/react-icons";

import {Navbar} from "@/components/navbar/navbar";
import {Button} from "@/components/ui/button";
import {NavbarSearchMovie} from "@/components/navbar/navbar-search-movie";

export const metadata: Metadata = {
  title: "movies-app",
  description: "Generated by appncy",
};
const links = [
  {name: "Home", path: "/", icon: <HomeIcon />},
  {name: "Movies", path: "/movies", icon: <HomeIcon />},
  {name: "Tv Series", path: "/tv", icon: <HomeIcon />},
  {name: "People", path: "/people", icon: <HomeIcon />},
];

export default function RootLayout({children}: {children: React.ReactNode}) {
  return (
    <html lang="en">
      <body className="m-auto w-full max-w-screen-2xl overflow-x-hidden bg-background">
        <Navbar />
        <main
          className={`*:transition-transform *:duration-500 *:ease-in-out
        [&>*:nth-child(1)]:translate-x-[-100%]
         peer-checked:[&>*:nth-child(1)]:translate-x-[0%]
        
        peer-checked:[&>*:nth-child(2)]:translate-x-[250px]
        md:peer-checked:[&>*:nth-child(2)]:w-[calc(100vw-250px)]
        `}
          // up
        >
          <nav className="fixed left-0 top-16 z-30 flex h-[calc(100dvh-64px)] w-[250px] flex-col gap-6 bg-background px-2 py-2">
            <NavbarSearchMovie />

            <div className="flex w-full flex-col items-center justify-center gap-2">
              <img
                alt="user profile"
                className="m-auto w-[70%] rounded-md"
                src="https://github.com/chapst1.png"
              />
              <h2>Christian Alvarez</h2>
            </div>
            <ul className="flex flex-grow flex-col gap-2">
              {links.map(({name, path, icon}, index) => {
                return (
                  <li key={index}>
                    <Link
                      className="flex items-center  justify-start gap-2 rounded-md border-2 border-border bg-background p-2 duration-300 hover:border-gradient"
                      href={path}
                    >
                      {icon}
                      {name}
                    </Link>
                  </li>
                );
              })}
            </ul>

            <Button className="m-auto">Log out</Button>
          </nav>
          <section className="fixed top-16 h-[calc(100dvh-64px)] w-full overflow-auto px-2">
            {children}
          </section>
        </main>
      </body>
    </html>
  );
}
